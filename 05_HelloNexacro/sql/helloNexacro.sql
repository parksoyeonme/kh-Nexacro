--부서테이블
CREATE TABLE TB_DEPT(
    DEPT_CD CHAR(2) PRIMARY KEY, 
    DEPT_NAME VARCHAR2(50)
);
INSERT INTO TB_DEPT VALUES('01', 'Accounting Team');    
INSERT INTO TB_DEPT VALUES('02', 'HR Team');
INSERT INTO TB_DEPT VALUES('03', 'Sales Team');
INSERT INTO TB_DEPT VALUES('04', 'Design Team');
INSERT INTO TB_DEPT VALUES('05', 'Education Team');
--직급테이블
CREATE TABLE TB_POS(
    POS_CD CHAR(2) PRIMARY KEY, 
    POS_NAME VARCHAR2(50)
);
INSERT INTO TB_POS VALUES('01', 'Chairman');
INSERT INTO TB_POS VALUES('02', 'Division Manager');
INSERT INTO TB_POS VALUES('03', 'Assistant Manager');
INSERT INTO TB_POS VALUES('04', 'Officer');
--사원테이블
--married컬럼은 VO에서는 boolean타입이지만, oracle type중 boolean이 없으므로, 0|1로 관리한다.
--jdbc api의 get|setBoolean 메소드가 이 변환을 지원한다. 
--java boolean <----> jdbc api <------> oracle number(1,0) 또는 char('1','0')
CREATE TABLE TB_EMPL(
    EMPL_ID VARCHAR2(5),
    FULL_NAME VARCHAR2(50), 
    DEPT_CD CHAR(2), 
    POS_CD CHAR(2), 
    HIRE_DATE DATE, 
		SALARY NUMBER,
    GENDER CHAR(1), 
    MARRIED NUMBER(1),  --true 1 | false 0
    MEMO LONG,
    CONSTRAINT PK_EMPL_ID PRIMARY KEY(EMPL_ID),
    CONSTRAINT FK_DEPT_CD FOREIGN KEY(DEPT_CD) REFERENCES TB_DEPT(DEPT_CD),
    CONSTRAINT FK_POS_CD FOREIGN KEY(POS_CD) REFERENCES TB_POS(POS_CD),
    CONSTRAINT CK_EMPL_GENDER CHECK(GENDER IN ('M', 'W')),
    CONSTRAINT CK_MARRIED CHECK (MARRIED IN (1, 0))
);
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('AA001','Olivia','01','03',TO_DATE('03-10-10','DD-MM-RR'),'W',1,83000,'ivory
blue
red');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('AA002','John','02','04',TO_DATE('11-10-05','DD-MM-RR'),'M',0,76000,'greenyellow');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('BB001','Jackson','03','03',TO_DATE('06-02-07','DD-MM-RR'),'M',1,95000,'aliceblue');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('BB002','Maia','04','02',TO_DATE('12-05-09','DD-MM-RR'),'W',0,60000,'ivory');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('CC001','Adam','01','04',TO_DATE('09-01-01','DD-MM-RR'),'M',1,88000,'greenyellow');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('DD001','Ray','02','03',TO_DATE('02-02-16','DD-MM-RR'),'M',1,60000,'lightpink');
INSERT INTO TB_EMPL (EMPL_ID,FULL_NAME,DEPT_CD,POS_CD,HIRE_DATE,GENDER,MARRIED,SALARY,MEMO) VALUES ('EE001','홍길동','03','01',TO_DATE('02-02-21','DD-MM-RR'),'M',1,60000,'springgreen');
--조회
select * from tb_empl;
select * from tb_dept;
select * from tb_pos;
--트랜잭션 처리 commit
commit;